<!DOCTYPE html>
<html>
<head>
  <title>Driver Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css">
</head>
<body class="bg-light">
  <div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="mb-0">Welcome, Driver</h2>
      <button onclick="logout()" class="btn btn-danger">Logout</button>
    </div>

    <div class="card mb-4">
      <div class="card-body">
        <h5 class="card-title">Mark Attendance</h5>
        <div class="row g-3 align-items-center">
          <div class="col-sm-3">
            <label for="shift" class="form-label">Shift</label>
            <select id="shift" class="form-select">
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="G">G</option>
            </select>
          </div>
          <div class="col-auto">
            <button onclick="markIN()" class="btn btn-success">IN</button>
            <button onclick="markOUT()" class="btn btn-warning">OUT</button>
          </div>
          <div class="col-sm-4">
            <input type="text" id="note" class="form-control" placeholder="Enter ON DUTY note">
          </div>
          <div class="col-auto">
            <button onclick="markDUTY()" class="btn btn-info text-white">ON DUTY</button>
          </div>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Past Logs</h5>
        <div class="row g-3 mb-3">
          <div class="col-md-3">
            <input type="date" id="fromDate" class="form-control">
          </div>
          <div class="col-md-3">
            <input type="date" id="toDate" class="form-control">
          </div>
          <div class="col-md-3">
            <button onclick="loadLogs()" class="btn btn-primary w-100">View Logs</button>
          </div>
        </div>
        <div class="table-responsive">
          <table class="table table-bordered table-striped align-middle text-center">
            <thead class="table-light sticky-top">
              <tr>
                <th>Type</th>
                <th>Shift</th>
                <th>Note</th>
                <th>Timestamp</th>
              </tr>
            </thead>
            <tbody id="logTableBody"></tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script src="./firebase-config.js"></script>
  <script src="./check.js"></script>
  <script src="./script.js"></script>
</body>
</html>
